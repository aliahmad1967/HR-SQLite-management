<!-- =====================================================
     نظام إدارة الموارد البشرية - HR Management System
     LoginWindow.xaml - نافذة تسجيل الدخول
     ===================================================== -->
<Window x:Class="HRManagementSystem.Views.LoginWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        Title="نظام إدارة الموارد البشرية - تسجيل الدخول"
        Height="500" Width="400"
        WindowStartupLocation="CenterScreen"
        ResizeMode="NoResize"
        FlowDirection="RightToLeft"
        Background="{DynamicResource MaterialDesignPaper}"
        TextElement.Foreground="{DynamicResource MaterialDesignBody}">

    <Grid>
        <!-- الخلفية -->
        <Border Background="{DynamicResource PrimaryHueMidBrush}" Height="200" VerticalAlignment="Top"/>

        <!-- بطاقة تسجيل الدخول -->
        <Border Style="{StaticResource CardStyle}"
                Width="320" Height="380"
                VerticalAlignment="Center">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <!-- الشعار -->
                <materialDesign:PackIcon Kind="AccountGroup"
                                         Width="64" Height="64"
                                         HorizontalAlignment="Center"
                                         Foreground="{DynamicResource PrimaryHueMidBrush}"
                                         Margin="0,0,0,16"/>

                <!-- العنوان -->
                <TextBlock Grid.Row="1" 
                           Text="نظام إدارة الموارد البشرية"
                           Style="{StaticResource SubHeaderTextStyle}"
                           HorizontalAlignment="Center"
                           Margin="0,0,0,8"/>

                <TextBlock Grid.Row="2" 
                           Text="تسجيل الدخول"
                           Style="{StaticResource BodyTextStyle}"
                           HorizontalAlignment="Center"
                           Margin="0,0,0,24"/>

                <!-- اسم المستخدم -->
                <TextBox Grid.Row="3"
                         x:Name="UsernameTextBox"
                         Style="{StaticResource ArabicTextBoxStyle}"
                         materialDesign:HintAssist.Hint="اسم المستخدم"
                         materialDesign:TextFieldAssist.HasLeadingIcon="True"
                         materialDesign:TextFieldAssist.LeadingIcon="Account"
                         Text="{Binding Username, UpdateSourceTrigger=PropertyChanged}"
                         Margin="16,0"/>

                <!-- كلمة المرور -->
                <PasswordBox Grid.Row="4"
                             x:Name="PasswordBox"
                             Style="{StaticResource MaterialDesignOutlinedPasswordBox}"
                             materialDesign:HintAssist.Hint="كلمة المرور"
                             materialDesign:TextFieldAssist.HasLeadingIcon="True"
                             materialDesign:TextFieldAssist.LeadingIcon="Lock"
                             FlowDirection="RightToLeft"
                             Margin="16,8"
                             PasswordChanged="PasswordBox_PasswordChanged"/>

                <!-- زر تسجيل الدخول -->
                <Button Grid.Row="5"
                        Content="تسجيل الدخول"
                        Style="{StaticResource PrimaryButtonStyle}"
                        Command="{Binding LoginCommand}"
                        IsDefault="True"
                        Margin="16,24,16,0"/>

                <!-- رسالة الخطأ -->
                <TextBlock Grid.Row="6"
                           Text="{Binding ErrorMessage}"
                           Foreground="{StaticResource ErrorBrush}"
                           HorizontalAlignment="Center"
                           VerticalAlignment="Top"
                           Margin="0,16,0,0"
                           Visibility="{Binding HasError, Converter={StaticResource BooleanToVisibilityConverter}}"/>

                <!-- مؤشر التحميل -->
                <ProgressBar Grid.Row="6"
                             IsIndeterminate="True"
                             Style="{StaticResource MaterialDesignCircularProgressBar}"
                             HorizontalAlignment="Center"
                             VerticalAlignment="Bottom"
                             Margin="0,0,0,16"
                             Visibility="{Binding IsBusy, Converter={StaticResource BooleanToVisibilityConverter}}"/>
            </Grid>
        </Border>
    </Grid>
</Window>

